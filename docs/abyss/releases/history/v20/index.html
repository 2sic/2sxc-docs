<!DOCTYPE html>
<html>
  <!-- 2sxc docs -->
  <head>
    <meta charset="utf-8">
      <title>All Changes in 2sxc and EAV v20 | 2sxc 20 for Dnn and Oqtane </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="All Changes in 2sxc and EAV v20 | 2sxc 20 for Dnn and Oqtane ">
      
      <link rel="icon" href="../../../../assets/favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/2sic/2sxc-docs/blob/master/docs-src/pages/abyss/releases/history/v20/index.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">      
  </head>

  <script type="module" src="./../../../../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PH2TVNW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'GTM-PH2TVNW');
  </script>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../assets/logos/vcurrent/50.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">



              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">

                <a class="btn btn-sm border-0 text-nowrap version-button" xstyle="padding: 10px 0 0 0; width: 25px" href="https://go.2sxc.org/docs-versions" target="_blank">
                  &nbsp; v20 <i class="bi bi-caret-down-fill fs-6"></i>
                </a>
              </form>


            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        

        <article data-uid="Abyss.Releases.History.V20">
<h1 id="all-changes-in-2sxc-and-eav-v20">All Changes in 2sxc and EAV v20</h1>

<h2 id="version-20">Version 20</h2>
<h3 id="2sxc-v200000-2025-06-25">2sxc v20.00.00 (2025-06-25)</h3>
<div class="WARNING">
<h5>Warning</h5>
<p>2sxc v20 is a <a class="xref" href="../../management/policy-mot.html">MoT Release</a>, containing many breaking changes.</p>
<p>See <a class="xref" href="breaking.html">Breaking Changes in v20</a> for details.</p>
</div>
<h4 id="highlights">Highlights</h4>
<ol>
<li>☢️ The module was moved to <code>/DesktopModules/ToSic.Sxc</code> and was renamed to <code>2sxc</code></li>
<li>💾 The entire SQL was reorganized - see <a class="xref" href="../../../db/changes-v20.html">2sxc &amp; EAV Database Changes in v20</a> for details.</li>
<li>⚙️ New CoPilot Code Generator for Models (like TypedItems, but lighter / POCO)</li>
<li>❤️‍🩹 Introduced many detections of old code to give guidance to users who must fix old code</li>
<li>🥇 Create App experience improved to provide apps from the catalog</li>
<li>🥇 App Catalog enhanced to manage template apps (which expect to be renamed upon installation) - allowing for more template apps in future</li>
<li>🦸🏼 New Patrons Performance support tier to use all our performance enhancements</li>
<li>📖 Docs improved to better indicate internal APIs</li>
</ol>
<h4 id="enhancements">Enhancements</h4>
<ol>
<li>💾 Database performance enhancements with new indexes and improved code</li>
<li>✏️ Improved Edit-UI to use in the admin section without saving the entity (for config dialogs which are generated from the schema)</li>
<li>✏️ Improved Toolbar API <a class="xref" href="../../../../api/dot-net/ToSic.Sxc.Edit.Toolbar.IToolbarBuilder.html#ToSic_Sxc_Edit_Toolbar_IToolbarBuilder_Audience_">.Audience(...)</a> with <code>everyone: true</code> and <code>roleNames</code> and <code>denyRoleNames</code></li>
<li>👱🏼 User Service with new <a class="xref" href="../../../../api/dot-net/ToSic.Sxc.Services.IUserService.html#ToSic_Sxc_Services_IUserService_GetCurrentUser_">.GetCurrentUser()</a></li>
<li>⚡ Lots of internal performance improvements, especially in loading, saving and handling data.</li>
<li>👨🏼‍💻 All 2sxc / EAV code is now C# latest <code>#nullable</code> which makes it more robust.</li>
<li>🖼️ When an imported app has <a class="xref" href="../../../../guides/wysiwyg/index.html">Rich WYSIWYG</a> content with images, <a href="https://github.com/2sic/2sxc/issues/3645">the links will be auto-corrected upon edit</a>.</li>
<li>🌪️ Visual Query improved with ability to mirror out-streams based on in-streams (for things such as serialization-DataSource etc.)</li>
<li>🪵 New features to reduce logging of loading the system or data of Apps, which creates large logs but are rarely used</li>
<li>✅ Features can now support detailed configuration (used in the new Logging configuration)</li>
<li>🥷🏼 Most internal APIs now clearly moved into <code>.Sys</code> namespaces   TODO: - DOCUMENT IN BREAKING</li>
</ol>
<h4 id="version-bumps-and-other-changes">Version Bumps and Other Changes</h4>
<ol>
<li>☢️ Minimum DNN version is now v9.11.02 (previously v9.6.2)</li>
<li>🖼️ Updated ImageFlow (the image resizer) to v2.1.0-RC11 from 2.0.0-Preview8</li>
<li>🅰️ Update UI to Angular 20 and Angular Material 20</li>
</ol>
<h4 id="bugfixes">Bugfixes</h4>
<ol>
<li>🩸 Oqtane fix issue which <a href="https://github.com/2sic/2sxc/issues/3643">broke 2sxc because of changes in Oqtane 6.1.2</a></li>
<li>🐞 Fix: DataSource RelationshipFilter accidentally filtered out results when the filter was <code>&quot;&quot;</code> (blank) instead of not filtering at all</li>
<li>🐞 Fix: Images could not be deleted right after uploading, because image resizer kept the file open on the server</li>
<li>🐞 Fix: When serializing entities with custom configuration, the configuration for the GUID was sometimes ignored</li>
<li>🐞 Fix: Visual Query preview JSON didn't match serialization configuration.</li>
</ol>
<h4 id="internal-and-code-hygiene">Internal and Code Hygiene</h4>
<ol>
<li>✅ Most of the code was reorganized into more DLLs, to better separate concerns and make it easier to maintain / contribute.</li>
<li>✅ All the code for Eav and 2sxc is now C# latest <code>#nullable</code> which makes it more robust.</li>
<li>✅ Dropped old .net WebClient and replaced with HttpClient</li>
<li>✅ Cleanup / improvements around logging.</li>
<li>✅ Replaced old .net APIs for encryption with latest (reduce warnings)</li>
<li>🐞 Fix bug which affected developers, where APIs were missing in intellisense because of the <code>EditorBrowsable</code> attribute</li>
<li>✅ Improved naming of <code>IMetadata</code> from <code>IMetadataOf</code></li>
<li>✅ Completely refactored the <code>IBlock</code> implementation and factory for better architecture</li>
<li>✅ Internal API to debug-dump objects was refactored</li>
<li>✅ Introduced new <code>ServiceBase&lt;TOptions&gt;</code> for services which need options at startup</li>
<li>✅ Introduced new <code>SpawnNew()</code> api and <code>Generator&lt;TService, TOptions&gt;</code> for objects expecting a setup.</li>
</ol>
<h3 id="2sxc-v200001-2025-06-28">2sxc v20.00.01 (2025-06-28)</h3>
<div class="WARNING">
<h5>Warning</h5>
<p>2sxc v20 is a <a class="xref" href="../../management/policy-mot.html">MoT Release</a>, containing many breaking changes.</p>
<p>See <a class="xref" href="breaking.html">Breaking Changes in v20</a> for details.</p>
</div>
<p>This 20.00.01 has only minor changes.</p>
<h4 id="enhancements">Enhancements</h4>
<ol>
<li>When configuring views, the selection if it's a list or not will automatically toggle the setting <code>IsList</code></li>
<li>When upgrading from previous version, the <code>/DesktopModules/ToSIC_SexyContent/system/</code> folder will be transferred to the new location.</li>
<li>All internal use of global queries was changed to use the correct <code>System.</code> prefix</li>
<li>Any use now of the old prefix <code>Eav.Queries.Global.</code> will throw an error, so you can fix it.</li>
<li>The main lists in the Admin UI were enhanced to show some help text.</li>
<li>UI button colors were improved to be more consistent.</li>
</ol>
<h4 id="bugfixes">Bugfixes</h4>
<ol>
<li>🐞 Fix: In 2-3 places some things failed because of list changes; eg. copying a query failed.</li>
<li>🐞 Fix: Auto-retrieve license from patrons.</li>
<li>🐞 Fix: In rare cases, changing the field type didn't seem to work.</li>
</ol>
<h3 id="2sxc-v200002-2025-07-07">2sxc v20.00.02 (2025-07-07)</h3>
<div class="WARNING">
<h5>Warning</h5>
<p>2sxc v20 is a <a class="xref" href="../../management/policy-mot.html">MoT Release</a>, containing many breaking changes.</p>
<p>See <a class="xref" href="breaking.html">Breaking Changes in v20</a> for details.</p>
</div>
<p>This 20.00.02 has only minor changes.</p>
<h4 id="enhancements">Enhancements</h4>
<ol>
<li>Admin Features Management - introduce search</li>
<li>Improve help when <code>web.config</code> is missing for Razor files which are used within <code>Html.Partial(...)</code>.</li>
<li>Color enhancements in Admin UI, now more consistent.</li>
</ol>
<h4 id="bugfixes">Bugfixes</h4>
<ol>
<li>🐞 Edit data (like App Settings) without WYSIWYG caused JS issues</li>
<li>🐞 Edit view caused some issues</li>
<li>🐞 Typed API - using Children containing null entry will filter that</li>
</ol>
<h4 id="internal-changes">Internal Changes</h4>
<ol>
<li>Improved internal namespaces, now everything should be in <code>.Sys</code></li>
<li>🩸 Oqtane: client lib does not use the 2sxc sys lib any more (not necessary, speeds up client rendering)</li>
<li>Update Google Maps key to latest version.</li>
<li>Drop complexity with MyServiceBase</li>
<li>Renamed <code>MyServices</code> to <code>Dependencies</code></li>
</ol>
<h3 id="2sxc-v200003-2025-07-11">2sxc v20.00.03 (2025-07-11)</h3>
<div class="WARNING">
<h5>Warning</h5>
<p>2sxc v20 is a <a class="xref" href="../../management/policy-mot.html">MoT Release</a>, containing many breaking changes.</p>
<p>See <a class="xref" href="breaking.html">Breaking Changes in v20</a> for details.</p>
</div>
<p>This 20.00.03 has really nice enhancements, but since we're still stabilizing v20, we are
not incrementing the next number yet.</p>
<h4 id="enhancements">Enhancements</h4>
<ol>
<li>📤 Introduced <a class="xref" href="../../../../api/dot-net/ToSic.Sxc.Code.ITypedApi.html">ITypedApi</a> and <a class="xref" href="../../../../api/dot-net/ToSic.Sxc.Services.ITypedApiService.html">ITypedApiService</a> to improve code quality when using 2sxc in skins or outside of DNN.</li>
<li>🔍 <code>App.GetQuery(...)</code> now returns an <a class="xref" href="../../../../api/dot-net/ToSic.Sxc.Data.ITypedQuery.html">ITypedQuery</a> object which also has <code>GetAll&lt;T&gt;</code> and <code>GetOne&lt;T&gt;</code> just like <a class="xref" href="../../../../api/dot-net/ToSic.Sxc.Apps.IAppDataTyped.html">App.Data</a></li>
<li>⚡ Major performance improvements all over, especially for 🦸🏼 <strong>Patrons Performance</strong></li>
<li>⚡ Introduced features to reduce logging during normal operations, which should improve performance and lower memory footprint.</li>
<li>⚡ Introduced reduced logging during import/save to better debug large imports / apps.</li>
<li>🧑🏼‍💻 Finally stabilized and released feature to change <code>Edition</code> to switch between <code>live</code> and <code>staging</code></li>
<li>⚡ Internal performance improvements when generating toolbars (caching of complex lookups)</li>
<li>👩‍👦 Improved <code>.Child(...)</code>, <code>.Children(...)</code>, <code>.Parent(...)</code> and <code>.Parents(...)</code> to hide related data which is still draft.</li>
<li>📖 Help enhancement for various use cases and better highlighting using emojis such as ❤️‍🩹 and 🔗</li>
</ol>
<h4 id="bugfixes">Bugfixes</h4>
<ol>
<li>🐞 The first time you added site / global / app settings they would not work until you restarted the system</li>
<li>🐞 GPS picker had a bug which only affected very old apps (those which had the picker and 2 separate number fields for Long/Lat)</li>
<li>🐞 Large Apps couldn't be deleted, this is now fixed</li>
<li>🐞 Edition selection became inaccessible when using incorrect value</li>
<li>🐞 Fixed API <code>App.Data.GetContentType(...)</code> which only existed in RazorTyped but not in old <code>dynamic</code> APIs.</li>
<li>🐞 Fixed issue with very <a class="xref" href="fix-template-selection/index.html">old apps not listing razor files in the view configuration</a></li>
</ol>
<h4 id="internal-changes">Internal Changes</h4>
<ol>
<li>Dropped old WebApi URLs beginning with <code>app-</code> (documented in the breaking changes)</li>
<li>Removed old <code>.data</code> as data folder for app extensions (in the <code>[AppRoot]/system</code> folder) - now only the protected <code>[AppRoot]/App_Data</code> is supported.</li>
<li>Experimental Tweak API <code>XCustom(prefix, key, value)</code> for testing newer features which are not yet released.</li>
<li>Experimental UI options to modify the behavior and not save data (for dialogs which just show data or only do JS activities)</li>
<li>Experimental UI <code>settings</code> parameter to control this behavior, which is not yet documented.</li>
<li>Experimental <code>dialogSettings</code> toolbar UI to change the UI from saving data to just <code>done</code> (naming and API not final)</li>
<li></li>
</ol>
<h3 id="2sxc-v200004-2025-08-04">2sxc v20.00.04 (2025-08-04)</h3>
<div class="WARNING">
<h5>Warning</h5>
<p>2sxc v20 is a <a class="xref" href="../../management/policy-mot.html">MoT Release</a>, containing many breaking changes.</p>
<p>See <a class="xref" href="breaking.html">Breaking Changes in v20</a> for details.</p>
</div>
<p>This 20.00.05 has really nice enhancements, but since we're still stabilizing v20, we are
not incrementing the next number yet.</p>
<h4 id="enhancements">Enhancements</h4>
<ol>
<li>🥫⚡ Entire DB Access (read/write) reworked and optimized - this is a major change, but it should not affect any apps.</li>
<li>🥫⚡ Almost all DB access now uses non-tracking Entity-Framework queries, which should improve performance.</li>
<li>🥫⚡ Introduce Parallel data processing on save - imports now 3-10x faster (Patron Performance)</li>
<li>🥫🦸🏼 Various performance features with DB can now be fine-tuned in features UI.</li>
<li>🧑🏼‍💻 Rework SoC <code>dynamic</code> code and <code>Typed</code> Code - separate Metadata, Files, Folders, Fields to be completely independent</li>
<li>📖 Many UIs now have guidance text when opening the dialog</li>
</ol>
<h4 id="bugfixes">Bugfixes</h4>
<ol>
<li>🐞 Razor / WebApi: <code>GetService()</code> was missing parameter <code>typeName</code> because in 20.00.04 we thought it's not used.</li>
<li>🐞 Issue creating new Apps in some cases - especially with new name</li>
<li>🐞 Bug initializing App still sometimes created multiple Settings/Resources</li>
<li>🩸 Oqtane: AdamSecurityCheckBasic.CanEditFolder sometimes had a null-ref exception in Oqtane</li>
<li>🐞 Visual Query: Relationship filter - a modified behavior in v20.00.02 was reverted back to original (empty filter value should still filter for empty)</li>
<li>🐞 Exotic feature <code>Ghost</code> ContentType hasn't been working for a long time now because name of API parameters changed</li>
<li>🐞 Fix loading data on large apps - relationships were sometimes duplicated in cache</li>
<li>🐞 Admin UI - minor issue showing details of shared fields were wrong in some cases</li>
<li>🪲 Minor: when toggling features the section always collapsed</li>
<li>🪲 Minor: Toggling language always sent 2 API requests</li>
</ol>
<h4 id="internal-changes">Internal Changes</h4>
<ol>
<li>Temporary property <code>.Dyn</code> was removed from <code>ITypedItem</code></li>
<li>Entity Framework projects are now using C# nullable</li>
<li>Features can now be in multiple licenses (such an LightSpeed in Patron Perfectionist and Patron Performance)</li>
<li>Internal change to <code>Entity</code> object to make it fully immutable</li>
<li>☢️ DNN: Improved internal dependency injection on ng-edit UIs</li>
</ol>
<h2 id="breaking-changes-in-eav-and-2sxc-v20---moment-of-truth">Breaking Changes in EAV and 2sxc v20 - Moment-of-Truth</h2>
<div class="IMPORTANT">
<h5>Important</h5>
<p>2sxc v20 is a milestone clean-up release, so it contains a lot of breaking changes.</p>
<p>This is the <strong>Moment of Truth</strong> where you see if you accidentally used internal or very old APIs.</p>
<p>These changes should only affect you, if you are accessing exotic/internal APIs,
or if you have some extremely old/deprecated code.</p>
<p>See also: <a class="xref" href="../../management/policy-mot.html">MoT Policy (Moment of Truth)</a></p>
</div>
<p>Note that we marked the breaking changes like this</p>
<ul>
<li>⚠️ things which may affect you</li>
<li>⬇️ things which are extremely unlikely to affect you</li>
</ul>
<div class="TIP">
<h5>Tip</h5>
<p>Note that the focus of breaking changes is on the <strong>Razor</strong> code.
But there are also <a href="#breaking-formulas-api-changes">2 small breaking changes in <strong>Formulas</strong></a>.</p>
</div>
<h3 id="highlights">Highlights</h3>
<div class="TIP">
<h5>Tip</h5>
<p>Despite this being a breaking change, we want to emphasize that much of this is great news.
It removes a lot of old cruft, and cleans up some history such as &quot;SexyContent&quot;.</p>
<p>These changes only affect you, if you were doing some really nasty things, such as accessing the DB directly.</p>
</div>
<ol>
<li><p>⚠️ All SQL tables and restructured - see <a class="xref" href="../../../db/changes-v20.html">2sxc &amp; EAV Database Changes in v20</a></p>
</li>
<li><p>⚠️ In Dnn, the module is now installed in <code>/DesktopModules/ToSic.Sxc/</code> instead of <code>/DesktopModules/ToSic_SexyContent/</code><br>
This could affect you, if you had direct links to</p>
<ul>
<li>the <code>$2sxc.min.js</code> file in your templates</li>
<li>were using the extremely old image resizer on the path <code>/DesktopModules/ToSic_SexyContent/Extensions/Thumbnailer.aspx</code><br>
🔨 see <a class="xref" href="brc-thumbnailer.aspx/index.html">Fix Breaking Change Thumbnailer.aspx in v20</a></li>
<li>used one of the recommended base themes such as <strong>2shine</strong> and now quick-edit doesn't automatically appear on empty pages.<br>
🔨 see <a class="xref" href="brc-dnn-quickedit-on-empty-page/index.html">Fix Breaking Change QuickEdit on Empty Page in v20</a></li>
</ul>
</li>
<li><p>⚠️ In Dnn we stop auto-creating a <code>web.config</code> file in the <code>/2sxc/</code> folder, so Razor files will no longer automatically use the old base class <code>SexyContentWebPage</code>.
This should not affect you, you're installing old Apps in newer DNNs.<br>
🔨 see <a class="xref" href="brc-automatic-base-class/index.html">Fix Breaking Change Stop Razor from Default to SexyContentWebPage in v20</a></p>
</li>
<li><p>⬇️ The minimum Dnn version for v20 is now Dnn 9.11.02 (previously it was 9.6.1)<br>
This is because older DNNs have important security issues, and we want to force people to update.<br>
As of now, 2sxc v20 will still run on older DNNs, but we will not support it or test it.</p>
</li>
<li><p>⬇️ The image resizer only includes the 64 bit binaries, the 32 bit binaries were removed.
This makes the distribution smaller, and I don't think anyone is using 32 bit servers anymore.</p>
</li>
<li><p>⬇️ All code was restructured to create smaller, more focused assemblies.<br>
This should not affect you, but if you were using some very old code, it may have been moved to a different assembly.
This can affect you if you were using compiled code which referenced the old assemblies (not common).</p>
</li>
<li><p>⬇️ Most internal APIs were moved into <code>Sys</code> namespaces, so it's easier to see if you're using internal APIs.<br>
This should not affect you, unless you were already using internal APIs.</p>
</li>
<li><p>⬇️ In Dnn, the modules name is now <code>2sxc</code> instead of <code>SexyContent</code></p>
</li>
</ol>
<h3 id="breaking-ientity-api-changes-razor">Breaking <code>IEntity</code> API Changes (Razor)</h3>
<div class="TIP">
<h5>Tip</h5>
<p>If your code just used the normal DynamicEntity or TypedEntity / Items APIs, you are not affected by these changes.</p>
<p>But in rare cases, especially in older Apps, some workarounds were used to access the <code>IEntity</code> interface directly.</p>
<p>This is usually done by first running <code>AsEntity(someObject)</code> to get the <code>IEntity</code> underlying data.</p>
</div>
<ol>
<li><p>⚠️ A very old interface <code>ToSic.Eav.Interfaces.IEntity</code> has been removed, please use <code>ToSic.Eav.Data.IEntity</code> instead.<br>
Some very old code may have used this to work around LINQ limitations.
Just use the new one, it's the same thing (but with fewer APIs, according to clean-up below).<br>
We've added some error handling to find out if this is the problem you have, and should lead you to this page.</p>
</li>
<li><p>⚠️ <code>IEntity</code> has <code>object Get(name, ...)</code> and 2 special <code>Get&lt;TVal&gt;(...)</code> methods to get a value and convert it to <code>string</code>, <code>int</code> etc.
The special typed <code>&lt;TVal&gt;</code> variants were moved into extension methods.<br>
Normally this should not affect you, if you are <code>@using ToSic.Eav.Data</code> in your code, since it will just work.
If you did this is a more exotic way, add the <code>@using ToSic.Eav.Data</code> to your code, and it will work again.</p>
</li>
<li><p>⚠️ <code>IEntity</code> had various <code>GetBestValue(...)</code> APIs which were removed.
We believe that about 2-3% of all code used this, so it may affect you.
🔨 see <a class="xref" href="brc-getbestvalue/index.html">Fix Breaking Change drop old GetBestValue API in v20</a></p>
</li>
<li><p>⬇️ APIs on <code>IEntity</code> were modified</p>
<ol>
<li><code>.Children(...)</code> and <code>.Parents(...)</code> now return <code>IEnumerable&lt;IEntity&gt;</code> instead of <code>List&lt;IEntity&gt;</code>.<br>
This will only affect you if you are using <code>.Count</code> on the result, in which case you should use <code>.Count()</code> instead.</li>
</ol>
</li>
<li><p>⬇️ Old, deprecated APIs <code>IEntity</code> were removed.<br>
These have not worked properly for many years.<br>
We've added some error handling to find out if this is the problem you have, and should lead you to this page.</p>
<ol>
<li><p><code>object GetBestValue(string attributeName, bool resolveHyperlinks)</code> - didn't work for a long time, is being removed</p>
</li>
<li><p><code>TVal GetBestValue&lt;TVal&gt;(string name, string[] languages, bool resolveHyperlinks)</code> - didn't work for a long time, is being removed</p>
</li>
<li><p><code>object GetBestValue(string attributeName, string[] languages, bool resolveHyperlinks)</code> - didn't work for a long time, is being removed</p>
</li>
<li><p><code>object Value(string field, bool resolve = true)</code> - didn't work for a long time, is being removed</p>
</li>
<li><p><code>T Value&lt;T&gt;(string field, bool resolve = true)</code> - didn't work for a long time, is being removed</p>
</li>
</ol>
</li>
<li><p>⬇️ Some unofficial APIs on <code>IEntity</code> were removed</p>
<ol>
<li><p><code>object PrimaryValue(string attributeName)</code><br>
The term <code>PrimaryValue</code> was an idea which we never pursued further. please just use <code>Get(...)</code> instead</p>
</li>
<li><p><code>TVal PrimaryValue&lt;TVal&gt;(string attributeName)</code><br>
The term <code>PrimaryValue</code> was an idea which we never pursued further. please just use <code>Get(...)</code> instead</p>
</li>
<li><p><code>object Value(string attributeName)</code><br>
The term <code>Value</code> was an idea which we never pursued further. please just use <code>Get(...)</code> instead</p>
</li>
<li><p><code>TVal Value&lt;TVal&gt;(string attributeName)</code><br>
The term <code>Value</code> was an idea which we never pursued further. please just use <code>Get(...)</code> instead</p>
</li>
</ol>
</li>
<li><p>⬇️ An API giving access to the ContentType Description <code>IContentType.Metadata.Description</code> were removed
We don't believe anyone used this.</p>
</li>
</ol>
<h3 id="other-breaking-razor-api-changes-dnn-only">Other Breaking Razor API Changes (Dnn only)</h3>
<ol>
<li><p>⚠️ The behavior to auto-load jQuery for very old Razor base classes was removed.<br>
A long time ago 2sxc accidentally loaded jQuery automatically in DNN.<br>
In those days, jQuery was used a lot. We stopped doing this for newer Razor base classes, but preserved the behavior for very old Razor base classes.<br>
This was removed in v20, so if you were using the old Razor base classes, you will need to add jQuery manually.<br>
<em>Note: code for this was commented out with <code>#RemovedV20 #OldDnnAutoJQuery</code>.</em></p>
</li>
<li><p>⚠️ Three old APIs on old Razor Base classes such as <code>SexyContentWebPage</code> were removed. All have been deprecated since v12.<br>
They were originally meant to use the same Razor file to also create a WebApi and fill the DNN search index, but was deprecated a long time ago.</p>
<ol>
<li><code>Purpose</code> - this was meant to tell Razor if it should prepare data for search or for view.</li>
<li><code>CustomizeSearch(...)</code> this was meant to customize the data for the search index. The functionality was moved to separate code many years ago.</li>
<li><code>CustomizeData(...)</code> this was a patchy way to specify the data for the razor template.</li>
</ol>
</li>
<li><p>⚠️ The <code>SexyContentWebPage</code> had a <code>List</code> property which provided <code>Element</code> objects to loop through.<br>
They were deprecated since v12, and replaced with the new Razor base classes which are much better.
If you were using these, please switch to the new Razor base classes and use the more modern approaches such as <code>MyItem</code>, <code>MyItem.Presentation</code>, <code>Content</code>, etc.
🔨 To fix, see <a class="xref" href="brc-list-element/index.html">Fix Breaking Change List of Elements in v20</a>.
<em>Note: code for this was commented out with <code>#RemovedV20 #Element</code>.</em></p>
</li>
<li><p>⬇️ There is a <code>/system</code> folder in the DesktopModules which had extensions. Each could have a <code>.data</code> folder - this must now be <code>App_Data</code>.<br>
This is probably not an issue, as we will auto-rename this during the upgrade of v20.00.01</p>
</li>
<li><p>⚠️ Every App <em>can</em> have a similar <code>/system</code> folder. Each could have a <code>.data</code> folder - this must now be <code>App_Data</code>.<br>
This is rarely used, but you would have to manually rename this folder to <code>App_Data</code> if you had it.</p>
</li>
<li><p>⚠️ DNN had some very old (pre v8) WebApi routes like <code>app-content</code>, <code>app-query</code> and <code>app-api</code> which were removed.<br>
If you had these in your code, please use the same route, just without the <code>app-</code> prefix.</p>
</li>
<li><p>⬇️ An old interface <code>ToSic.Sxc.Blocks.IRenderService</code> was removed, since it's been superseded by <code>ToSic.Sxc.Services.IRenderService</code>.
We believe it was used in 2-3 v12 Apps, so if you encounter this, just switch to <code>ToSic.Sxc.Services.IRenderService</code> instead.</p>
</li>
<li><p>⬇️ An internal interface called <code>ToSic.Sxc.Data.IEntityLight</code> was removed<br>
We don't believe anyone used this, but if you did, please use <code>ToSic.Eav.Data.IEntity</code> instead.</p>
</li>
<li><p>⬇️ A very old interface called <code>SexyContent.Interfaces.IDynamicEntity</code> was removed.<br>
If you really had this in your code, please use <code>ToSic.Sxc.Data.IDynamicEntity</code> instead.</p>
</li>
<li><p>⬇️ Some internal objects were consolidated, such as <code>IAttributeBase</code> which nobody should have used anyway<br>
We don't believe anyone used this.</p>
</li>
<li><p>⬇️ lots of internal namespaces and classes/interfaces were renamed, including but not limited to:</p>
<ol>
<li><code>DynamicEntity.GetEntityValue(string name)</code> (removed)</li>
</ol>
</li>
<li><p>⬇️ An old API used by some of the first Mobius Apps used <code>App.Data.Cache.GetContentType</code>.<br>
This has been obsolete since v10 and is now removed in v20.<br>
We suggest you use a newer Mobius App or if you're really desperate, see 🔨 <a class="xref" href="brc-list-iappdata-cache/index.html">Fix Breaking Change Removal of Cache on IAppData in v20</a>.</p>
</li>
<li><p>⬇️ An old internal interface called <code>ToSic.SexyContent.IAppAndDataHelpers</code> was removed.<br>
It was implemented by <code>ToSic.SexyContent.Razor.SexyContentWebPage</code> and <code>ToSic.SexyContent.WebApi.SxcApiController</code>.
The APIs on it still work, but the interface was removed; you should not notice the clean-up.
See <a class="xref" href="brc-dnn-files/index.html">Fix Breaking Change Dnn Files / Folders in v20</a></p>
</li>
</ol>
<h3 id="breaking-formulas-api-changes">Breaking Formulas API Changes</h3>
<h4 id="v1-formrunformulas-was-removed">V1 <code>form.runFormulas()</code> Was Removed</h4>
<p>The V1 formulas were not async, so they had a patchy solution for using formulas which requested data from the server.
The old solution was to use fetch and in the promise, call <code>form.runFormulas()</code> to retrigger the formulas after the data was loaded.</p>
<p>2sxc 16 in early 2023 introduced V2 formulas which can return a promise.
This will automatically trigger recalculations when the promise resolves,
and allows for better control over what happens (like if the same formula should run again, or not).</p>
<p>Since v16 was released, any use of the old <code>form.runFormulas()</code> resulted in a warning in the console.</p>
<p>In v20, this method was disabled showing a JS error.
If you were using it, please remove it and use the new V2 formulas instead.</p>
<h4 id="internal-formula-changes">Internal Formula Changes</h4>
<p>An internal API which placed some experimental commands in the formula calls were moved to the context.
Since it was only used internally, it should not affect anyone.</p>
<h3 id="other-changes">Other Changes</h3>
<ol>
<li><p>⬇️ Custom extensions (such as custom input fields) in the <code>/system</code> folder should place their data in the <code>/system/[ext-name]/App_Data/system-custom/</code> path.<br>
Previously the path <code>/system/[ext-name]/.data/</code> was also supported, but this is now removed.</p>
</li>
<li><p>⬇️ All <a class="xref" href="../../../../basics/query/query-system.html">system queries</a> which are called <code>System.Whatever</code> previously also supported being called by <code>Eav.Queries.Global.Whatever</code>.<br>
This is now removed, so you should only use <code>System.Whatever</code> to call global queries.</p>
</li>
<li><p>⬇️ The <a class="xref" href="../../../../net-code/conventions/dependencies/index.html">DependenciesClass</a> was previously called <code>MyServices</code> but it was very unclear, so it was renamed.  <code>ToSic.Eav.Data.IEntity</code>.<br>
This is a breaking change, but we don't believe anyone used this interface directly, except in custom DataSources - where we kept the old name for compatibility.</p>
</li>
<li><p>⬇️ The <code>IContentType</code> had a <code>.ContentTypeId</code> which should only be <code>.Id</code>. The old <code>.ContentTypeId</code> was removed (deprecated since v13).<br>
This is a breaking change, but we don't believe anyone used this property directly.</p>
</li>
<li><p>⬇️ The <code>IContentType</code> had a <code>.StaticName</code> which should only be <code>.NameId</code>. The old <code>.StaticName</code> was removed (deprecated since v13).<br>
This is a breaking change, but we don't believe anyone used this property directly.</p>
</li>
<li><p>⬇️ Previously the APIs <code>.Child(...)</code>, <code>.Parent(...)</code>, <code>.Children(...)</code>, and <code>.Parents(...)</code> on <code>ITypedItem</code> would return the related data without checking for publishing.
Now it will check for publishing and only show draft children/parents to editors (v20.00.03).<br>
This is a breaking change, but we don't believe anyone used this property directly.</p>
</li>
<li><p>⬇️ The <code>ITypedItem</code> had a <code>.Dyn</code> property which was removed (v20.00.04).<br>
It was a temporary addition (and always marked as such) thought to help in migrating code.
But we're afraid people may use it and leave it in, so we decided it's best to completely remove it.</p>
</li>
</ol>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/2sic/2sxc-docs/blob/master/docs-src/pages/abyss/releases/history/v20/index.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          
          <span>
            Made by <a href="https://www.2sic.com">2sic</a>
            with 💖 and
            <a href="https://dotnet.github.io/docfx">docfx</a>
            — 
            for <a href="https://2sxc.org">2sxc</a>,
            <a href="https://dnncommunity.org/">Dnn</a> 
            and <a href="https://www.oqtane.org/">Oqtane</a>
            — 
            see also <a href="">2sxc Github</a> and <a href="https://blazor-cms.org">Blazor CMS</a>
          </span>
        </div>
      </div>
    </footer>
  </body>
</html>