<!DOCTYPE html>
<html>
  <!-- 2sxc docs -->
  <head>
    <meta charset="utf-8">
      <title>Open-Meteo DataSource | 2sxc 21 for Dnn and Oqtane </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Open-Meteo DataSource | 2sxc 21 for Dnn and Oqtane ">
      
      <link rel="icon" href="../../../../assets/favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/2sic/2sxc-docs/blob/master/docs-src/pages/extensions/app-extensions/by-2sxc/datasources-open-meteo/index.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">      
  </head>

  <script type="module" src="./../../../../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PH2TVNW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'GTM-PH2TVNW');
  </script>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../assets/logos/vcurrent/50.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">



              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">

                <a class="btn btn-sm border-0 text-nowrap version-button" xstyle="padding: 10px 0 0 0; width: 25px" href="https://go.2sxc.org/docs-versions" target="_blank">
                  &nbsp; v21 <i class="bi bi-caret-down-fill fs-6"></i>
                </a>
              </form>


            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        

        <article data-uid="Extensions.AppExtensions.By2sxc.DataSourcesOpenMeteo.Index">
<h1 id="open-meteo-datasource">Open-Meteo DataSource</h1>

<p>This App Extension adds ready-to-use <strong>2sxc DataSources</strong> for the public <strong>Open-Meteo</strong> weather API.
It lets you pull <strong>Current weather</strong> and/or <strong>Forecast data</strong> into 2sxc streams, so you can use it like any other DataSource in Visual Query / code.</p>
<hr>
<h2 id="installation-and-use">Installation and Use</h2>
<p>‚û°Ô∏è See <a class="xref" href="../../install/index.html">Extension installation</a></p>
<p>The extension contains two <strong>DataSources</strong>:</p>
<ul>
<li><code>OpenMeteoCurrent</code> ‚Üí current weather</li>
<li><code>OpenMeteoForecast</code> ‚Üí forecast data</li>
</ul>
<p>Both DataSources accept configuration (see <code>OpenMeteoParameters</code>) and return data with a model matching the <code>OpenMeteoResult</code>.</p>
<p>For parameters you can set the following in code or Visual Query:</p>
<ul>
<li><code>Latitude</code></li>
<li><code>Longitude</code></li>
</ul>
<p>Optional parameters (recommended):</p>
<ul>
<li><code>Timezone</code> (e.g. <code>Europe/Amsterdam</code>, default is <code>auto</code> matching the coordinates)</li>
</ul>
<p>Only parameters shown in the DataSource configuration UI are supported.
Configure them either through Visual Query or via code when creating the DataSource.</p>
<hr>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_use-in-visual-query" role="tab" aria-controls="tabpanel_1_use-in-visual-query" data-tab="use-in-visual-query" tabindex="0" aria-selected="true">Use in Visual Query</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_use-in-razor-current-weather" role="tab" aria-controls="tabpanel_1_use-in-razor-current-weather" data-tab="use-in-razor-current-weather" tabindex="-1">Use in Razor - Current Weather</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_use-in-razor-forecast" role="tab" aria-controls="tabpanel_1_use-in-razor-forecast" data-tab="use-in-razor-forecast" tabindex="-1">Use in Razor - Forecast</a>
</li>
</ul>
<section id="tabpanel_1_use-in-visual-query" role="tabpanel" data-tab="use-in-visual-query">

<ol>
<li>Add the DataSource <code>Open-Meteo Current</code> or <code>Open-Meteo Forecast</code></li>
<li>Set the configuration values (Latitude/Longitude/‚Ä¶)</li>
<li>Connect it to your output</li>
</ol>
<div gallery="new-inherit">
  <img src="../../../../pages/extensions/app-extensions/by-2sxc/datasources-open-meteo/assets/open-meteo-visual-query.png">
  <img src="../../../../pages/extensions/app-extensions/by-2sxc/datasources-open-meteo/assets/open-meteo-parameters.png">
</div>
<div class="TIP">
<h5>Tip</h5>
<p>In the configuration UI, click the small map icon next to the coordinate fields to pick latitude/longitude from a map.</p>
</div>
</section>
<section id="tabpanel_1_use-in-razor-current-weather" role="tabpanel" data-tab="use-in-razor-current-weather" aria-hidden="true" hidden="hidden">

<p>Below are intentionally short examples. Your actual namespace/class names may differ depending on where you placed the files.</p>
<h4 id="current-weather">Current weather</h4>
<ol>
<li>Creates an instance of the <code>OpenMeteoCurrent</code> DataSource</li>
<li>Passes location and configuration values</li>
<li>Access fields by name (as shown in the Visual Query inspector)</li>
</ol>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>Latitude</code> (required): Decimal degrees, e.g. <code>47.1674</code></li>
<li><code>Longitude</code> (required): Decimal degrees, e.g. <code>9.4779</code></li>
<li><code>Timezone</code> (optional): IANA timezone, e.g. <code>&quot;Europe/Amsterdam&quot;</code>, default is <code>auto</code> (matches coordinates)</li>
</ul>
<p><strong>Temperature Units:</strong></p>
<p>Temperature is always returned in <strong>Celsius</strong>. To get Fahrenheit, use the <code>TemperatureFahrenheit</code> helper property on the result.</p>
<pre><code class="lang-cshtml">@inherits Custom.Hybrid.RazorTyped
@using AppCode.Extensions.OpenMeteo
@using AppCode.Extensions.OpenMeteo.Data

&lt;h3&gt;Current Weather&lt;/h3&gt;
@{
  // Create a data source for current weather data from OpenMeteo API
  var currentDs = Kit.Data.GetSource&lt;OpenMeteoCurrent&gt;(parameters: new OpenMeteoParameters() {
    Latitude = 47.1674,         // Vaduz, Liechtenstein
    Longitude = 9.4779,         // Vaduz, Liechtenstein
    Timezone = &quot;Europe/Zurich&quot;
  });

  // Use the strongly-typed model
  var current = As&lt;OpenMeteoResult&gt;(currentDs);
}

@* Display message if the API didn't return any weather data, then exit *@
@if (current == null)
{
  &lt;div class=&quot;alert alert-warning&quot;&gt;
    No data available
  &lt;/div&gt;
  return;
}

@* Display the current weather information retrieved from the API *@
&lt;ol&gt;
  &lt;li&gt;
    &lt;strong&gt;When:&lt;/strong&gt; @current.When
  &lt;/li&gt;
  &lt;li&gt;
    &lt;strong&gt;Temperature:&lt;/strong&gt; @current.Temperature ¬∞C
  &lt;/li&gt;
  &lt;li&gt;
    &lt;strong&gt;Weather:&lt;/strong&gt; @current.Weather
  &lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</section>
<section id="tabpanel_1_use-in-razor-forecast" role="tabpanel" data-tab="use-in-razor-forecast" aria-hidden="true" hidden="hidden">

<ol>
<li>Creates an instance of the <code>OpenMeteoForecast</code> DataSource</li>
<li>Iterates over the items and accesses fields by name</li>
</ol>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>Latitude</code> (required): Decimal degrees, e.g. <code>47.1674</code></li>
<li><code>Longitude</code> (required): Decimal degrees, e.g. <code>9.4779</code></li>
<li><code>Timezone</code> (optional): IANA timezone, e.g. <code>&quot;Europe/Amsterdam&quot;</code>, default is <code>auto</code> (matches coordinates)</li>
<li><code>ForecastDays</code> (optional): Number of days (<code>1-16</code>), default is <code>1</code></li>
</ul>
<p><strong>Temperature Units:</strong></p>
<p>Temperature is always returned in <strong>Celsius</strong>. To get Fahrenheit, use the <code>TemperatureFahrenheit</code> helper property on the result.</p>
<div class="TIP">
<h5>Tip</h5>
<p>You can cast the stream to the <code>OpenMeteoResult</code> model using <code>AsList&lt;OpenMeteoResult&gt;(forecastDs)</code>.</p>
</div>
<pre><code class="lang-cshtml">@inherits Custom.Hybrid.RazorTyped
@using System.Linq
@using AppCode.Extensions.OpenMeteo
@using AppCode.Extensions.OpenMeteo.Data

@{
  // Create a data source for hourly weather forecast from OpenMeteo API
  // Returns one record per hour for the specified number of forecast days
  var forecastDs = Kit.Data.GetSource&lt;OpenMeteoForecast&gt;(parameters: new OpenMeteoParameters() {
    Latitude = 47.1674,         // Vaduz, Liechtenstein
    Longitude = 9.4779,         // Vaduz, Liechtenstein
    ForecastDays = 1,           // Number of days to forecast
    Timezone = &quot;Europe/Zurich&quot;
  });

  // Use the strongly-typed model
  var items = AsList&lt;OpenMeteoResult&gt;(forecastDs).ToList();
}

@* Display message if the API didn't return any forecast data, then exit *@
@if (!items.Any())
{
  &lt;div class=&quot;alert alert-warning&quot;&gt;
    No forecast data available
  &lt;/div&gt;
  return;
}

@* Show the forecast data *@
&lt;h3&gt;
  Weather Forecast for the next @items.Count hours
&lt;/h3&gt;

&lt;table class=&quot;table table-striped&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;When&lt;/th&gt;
      &lt;th&gt;Temperature (¬∞C)&lt;/th&gt;
      &lt;th&gt;Weather&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    @* Each row displays one hour of forecast data *@
    @foreach (var item in items)
    {
      &lt;tr&gt;
        &lt;td&gt;@item.When&lt;/td&gt;
        &lt;td&gt;@item.Temperature ¬∞C&lt;/td&gt;
        &lt;td&gt;@item.Weather&lt;/td&gt;
      &lt;/tr&gt;
    }
  &lt;/tbody&gt;
&lt;/table&gt;

</code></pre>
<h2 id="history">History</h2>
<ol>
<li>Initial release</li>
</ol>
<p>Shortlink: <a href="https://go.2sxc.org/ext-openmeteo">https://go.2sxc.org/ext-openmeteo</a></p>
</section>
</div>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/2sic/2sxc-docs/blob/master/docs-src/pages/extensions/app-extensions/by-2sxc/datasources-open-meteo/index.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          
          <span>
            Made by <a href="https://www.2sic.com">2sic</a>
            with üíñ and
            <a href="https://dotnet.github.io/docfx">docfx</a>
            ‚Äî 
            for <a href="https://2sxc.org">2sxc</a>,
            <a href="https://dnncommunity.org/">Dnn</a> 
            and <a href="https://www.oqtane.org/">Oqtane</a>
            ‚Äî 
            see also <a href="">2sxc Github</a> and <a href="https://blazor-cms.org">Blazor CMS</a>
          </span>
        </div>
      </div>
    </footer>
  </body>
</html>