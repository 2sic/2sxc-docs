<!DOCTYPE html>
<html>
  <!-- 2sxc docs -->
  <head>
    <meta charset="utf-8">
      <title>Contribute to Front-End EAV-UI (WIP) | 2sxc 21 for Dnn and Oqtane </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Contribute to Front-End EAV-UI (WIP) | 2sxc 21 for Dnn and Oqtane ">
      
      <link rel="icon" href="../../../../../assets/favicon.ico">
      <link rel="stylesheet" href="../../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/2sic/2sxc-docs/blob/master/docs-src/pages/abyss/contribute/code/frontend/eav-ui/index.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">      
  </head>

  <script type="module" src="./../../../../../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PH2TVNW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'GTM-PH2TVNW');
  </script>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../../index.html">
            <img id="logo" class="svg" src="../../../../../assets/logos/vcurrent/50.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">



              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">

                <a class="btn btn-sm border-0 text-nowrap version-button" xstyle="padding: 10px 0 0 0; width: 25px" href="https://go.2sxc.org/docs-versions" target="_blank">
                  &nbsp; v21 <i class="bi bi-caret-down-fill fs-6"></i>
                </a>
              </form>


            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        

        <article data-uid="Abyss.Contribute.Code.Frontend.EavUi.Index">
<h1 id="contribute-to-front-end-eav-ui-wip">Contribute to Front-End EAV-UI (WIP)</h1>

<div class="WARNING">
<h5>Warning</h5>
<p>This is meant for people who want to contribute to the underlying source code of 2sxc and EAV.</p>
<p>If you only want to USE 2sxc / EAV, then <strong>you do NOT need this</strong>.</p>
</div>

<p>The EAV-UI is the main edit/admin UI for both 2sxc and EAV.
It's built using Angular, and it's important that all contributors use the same conventions to keep the code clear and maintainable.</p>
<h2 id="dependency-injection---prefer-transient">Dependency Injection - Prefer Transient</h2>
<p>Angular has a very complex dependency injection system.
This is a common cause of problems, as services accidentally share state.</p>
<ol>
<li>Prefer creating services which are only meant to be used transiently,
and not shared across the app.</li>
<li>Avoid using <code>providedIn: 'root'</code> in services,
as this will make them shared across the entire app,
which can lead to unintended consequences.</li>
<li>Avoid using <code>providers: []</code> in components,
as this will create a new instance of the service for each component,
which can also lead to unintended consequences.
By avoiding <code>providers: []</code> as much as possible, we can look for the few cases where it's used,
to see if anything will cause problems.</li>
<li>Use the special <code>transient&lt;T&gt;()</code> function to create services which are meant to be used transiently, and not shared across the app.</li>
</ol>
<h2 id="prefer-signals-avoid-observables">Prefer Signals, avoid Observables</h2>
<p>Historically Angular has used Observables for state management and data flow.
However, this can lead to complex and hard-to-maintain code, especially when dealing with multiple subscriptions and ensuring proper cleanup.
People also have a really hard time understanding how Observables work, and how to use them correctly.</p>
<p>Signals are a newer feature in Angular that provide a simpler and more intuitive way to manage state and data flow.
They allow you to define reactive state that automatically updates the UI when it changes, without the need for manual subscriptions and cleanup.
By using Signals instead of Observables, we can create cleaner and more maintainable code, and reduce the likelihood of bugs related to state management and memory leaks.</p>
<ol>
<li>Try to use signals wherever possible.</li>
<li>If old code uses observables, try to refactor it to use signals instead, if possible.</li>
<li>Try to use <code>httpResource</code> over <code>HttpClient</code> - use our helper services for this.</li>
<li>Use our signal helpers which give the signals a name,
such as <code>computedObj(name, () =&gt; ...)</code> instead of <code>computed(() =&gt; ...)</code>,
to make it easier to debug and understand the code.
This is mainly important for long-living signals on services, but less important for short-living signals in components.</li>
</ol>
<h2 id="routing-dialogs---use-convention">Routing-Dialogs - Use Convention</h2>
<p>The EAV-UI uses router-driven dialogs instead of opening dialogs
imperatively.</p>
<h3 id="why">Why?</h3>
<ul>
<li>Deep-linking works</li>
<li>Browser back/forward works</li>
<li>Reloading restores dialog state</li>
<li>UI state is URL-driven</li>
</ul>
<div class="TIP">
<h5>Tip</h5>
<p>Remembering to use <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> in the main app component, and then using the <code>DialogService</code> to open dialogs with routing, and how to structure the routes for dialogs.</p>
</div>
<h3 id="opening-a-dialog">Opening a Dialog</h3>
<pre><code class="lang-ts">this.dialogService.open({
  route: ['edit', id]
});
</code></pre>
<h3 id="closing-a-dialog">Closing a Dialog</h3>
<pre><code class="lang-ts">this.dialogService.close();
</code></pre>
<p>If you see direct usage of <code>MatDialog</code>, it is probably legacy code and
should be refactored.</p>
<h2 id="dialogs-reuse-shared-parts">Dialogs: Reuse Shared Parts</h2>
<p>All dialogs must follow shared structural conventions.</p>
<h3 id="dialog-structure">Dialog Structure</h3>
<p>The <code>DialogHeaderComponent</code> is a shared layout component responsible for rendering:</p>
<ul>
<li>the dialog header container</li>
<li>the title area</li>
<li>the optional close button</li>
</ul>
<p>It does <strong>not</strong> control title styling or domain logic.
Title content must be projected using the <code>dialog-title</code> attribute.</p>
<p><strong>Inputs:</strong></p>
<ul>
<li>showClose (<code>boolean</code>, <strong>default</strong>: <em>true</em>)
<ul>
<li>Controls whether the close button is displayed.</li>
</ul>
</li>
<li>closeTooltip (<code>string</code>, <strong>default</strong>: <em>&quot;Close dialog&quot;</em>)
<ul>
<li>Tooltip text for the close button.</li>
</ul>
</li>
</ul>
<p><strong>Output:</strong></p>
<ul>
<li>close
<ul>
<li>Emits when the close button is clicked.</li>
<li>Typically used to call <code>dialog.close()</code>.</li>
</ul>
</li>
</ul>
<pre><code class="lang-html">&lt;div class=&quot;eav-dialog&quot;&gt;

  &lt;!-- Dialog Header --&gt;
  &lt;app-dialog-header [showClose]=&quot;true&quot; (close)=&quot;dialog.close()&quot;&gt;
    &lt;!-- 
      Projected title content.
      This will be rendered inside the header's title container.
      Do NOT add header classes here, they are defined inside the component.
    --&gt;
    &lt;span dialog-title&gt;
      My Dialog Title
    &lt;/span&gt;

  &lt;/app-dialog-header&gt;

  &lt;!-- Dialog Content --&gt;
  &lt;div class=&quot;eav-dialog-content&quot;&gt;
    &lt;p&gt;This is the dialog body.&lt;/p&gt;
  &lt;/div&gt;

&lt;/div&gt;
</code></pre>
<ol>
<li>Always use <code>app-dialog-header</code></li>
<li>Never re-implement dialog close buttons</li>
<li>Use shared CSS classes:
<ul>
<li><code>eav-dialog</code></li>
<li><code>eav-dialog-content</code></li>
<li><code>eav-dialog-actions</code></li>
</ul>
</li>
<li>Avoid inline styles</li>
</ol>
<h2 id="tables-use-aggrid-conventions">Tables: Use AgGrid conventions</h2>
<p>All data tables in EAV-UI use AgGrid.</p>
<h3 id="core-rules">Core Rules</h3>
<ol>
<li>Always define column definitions separately.</li>
<li>Avoid inline column definitions in templates.</li>
<li>Use shared helpers for formatting and indicators.</li>
<li>Avoid manual DOM manipulation.</li>
</ol>
<h3 id="prefer-signals-for-data">Prefer Signals for Data</h3>
<p>Bad:</p>
<pre><code class="lang-ts">this.http.get(...).subscribe(...)
</code></pre>
<p>Good:</p>
<pre><code class="lang-ts">data = httpResource(...);
</code></pre>
<p>or</p>
<pre><code class="lang-ts">items = computedObj('items', () =&gt; ...);
</code></pre>
<h2 id="patron-indicators">Patron Indicators</h2>
<p>We have various UI elements to indicate that a feature is only available to patrons.
This list should help you find/pick the best choice for your use case.</p>
<ol>
<li><code>FeatureComponentBase</code> - the base class for all components which show some kind of patron status.<br>
You can always search for all derived components to find out which options exist.
<ol>
<li><code>featureNameId</code> - the name of the feature, which is used to look up the feature in the database and check if it's enabled for the current user.</li>
<li><code>showIf</code> - <em>optional</em> determine if showing happens when the feature is disabled (default) or enabled (if set to <code>true</code>).</li>
</ol>
</li>
<li><code>FeatureIconIndicator</code> / <code>app-feature-icon-indicator</code> - just show a diamond if locked, won't open dialogs when clicked.<br>
This is for use inside things such as buttons or FABs, where the click action is handled by the button, and we just want to show that it's a patron feature.</li>
<li><code>FeatureIconWithDialog</code> - show a diamond icon <code>app-feature-icon-with-dialog</code> which opens a dialog when clicked, showing more information about the feature and how to become a patron.<br>
This is for use in places where we want to give the user more information about the feature and how to become a patron, such as in a settings page or a feature list.
<ol>
<li><code>forText</code> - <em>optional</em> change styling to use as inline-text.</li>
</ol>
</li>
</ol>
<hr>
<h2 id="history">History</h2>
<ul>
<li>Created 2026-02-21</li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/2sic/2sxc-docs/blob/master/docs-src/pages/abyss/contribute/code/frontend/eav-ui/index.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          
          <span>
            Made by <a href="https://www.2sic.com">2sic</a>
            with ðŸ’– and
            <a href="https://dotnet.github.io/docfx">docfx</a>
            â€” 
            for <a href="https://2sxc.org">2sxc</a>,
            <a href="https://dnncommunity.org/">Dnn</a> 
            and <a href="https://www.oqtane.org/">Oqtane</a>
            â€” 
            see also <a href="">2sxc Github</a> and <a href="https://blazor-cms.org">Blazor CMS</a>
          </span>
        </div>
      </div>
    </footer>
  </body>
</html>