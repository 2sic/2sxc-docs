<!DOCTYPE html>
<html>
  <!-- 2sxc docs -->
  <head>
    <meta charset="utf-8">
      <title>Visual Studio Code - Guide | 2sxc 17 for Dnn and Oqtane </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Visual Studio Code - Guide | 2sxc 17 for Dnn and Oqtane ">
      
      <link rel="icon" href="../../assets/favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/2sic/2sxc-docs/blob/master/2sxc Docs Generator/pages/guides/vscode/index.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css">
      
      
  </head>

  <script type="module" src="./../../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>

  <script async="" src="https://www.googletagmanager.com/gtag/js?id=GTM-PH2TVNW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'GTM-PH2TVNW');
  </script>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../assets/logos/vcurrent/50.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">



              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">

                <a class="btn btn-sm border-0 text-nowrap version-button" xstyle="padding: 10px 0 0 0; width: 25px" href="https://go.2sxc.org/docs-versions" target="_blank">
                  &nbsp; v17 <i class="bi bi-caret-down-fill fs-6"></i>
                </a>
              </form>


            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Guides.VsCode.Index">
<h1 id="visual-studio-code---guide">Visual Studio Code - Guide</h1>

<p>This guide will help you get VS Code Setup as best as possible for 2sxc development.</p>
<h2 id="background">Background</h2>
<p>You'll often write code in your 2sxc Apps - either as C#/Razor or JavaScript.
2sxc is a very open system, so you can use any editor you like.
For quick fixes and simple things, use the built-in editor, which is based on Monaco (VS Code Online).
But for more sophisticated stuff we recommend VS Code.</p>
<h2 id="prepare-vs-code-for-2sxc">Prepare VS Code for 2sxc</h2>
<p>VSCode is amazing right out of the box, but to really be productive, you need to do a few things:</p>
<ol>
<li>Install VS Code</li>
<li>Install the <a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csdevkit">C# DevKit extensions</a></li>
<li>Configure each App with
<ol>
<li>Intellisense (see below)</li>
<li>Ignore the <code>obj</code> and <code>.vs</code> folders (see below)</li>
</ol>
</li>
<li>Check possible edge cases (see below)</li>
</ol>
<p>With these preparations, VS-Code is able to assist in basic C# code.
It can't provide IntelliSense for 2sxc specific APIs yet, so for that, read on.</p>
<h2 id="configure-an-app-for-razor-intellisense">Configure an App for Razor IntelliSense</h2>
<p>Apps are usually opened as a folder in VS-Code.
The problem for IntelliSense is that it doesn't know which DLLs it should use.
So you need to tell it.
This is done by adding a <code>.sln</code> solution file and a <code>.csproj</code> project file.</p>
<p>Add the following two files to the root of your app:</p>
<p><strong>Template for the <code>/app.sln</code> file</strong></p>
<pre><code class="lang-text">Microsoft Visual Studio Solution File, Format Version 12.00
# Visual Studio Version 17
VisualStudioVersion = 17.5.002.0
Project(&quot;{9A19103F-16F7-4668-BE54-9A1E7A4F7556}&quot;) = &quot;App&quot;, &quot;app.csproj&quot;, &quot;{9F7A078F-99D5-4EF4-8EC0-C6B920FE679C}&quot;
EndProject

#
# Visual Studio .sln File for 2sxc App
# This is necessary so that VS Code can perform intellisense in Razor
# It also requires a csproj file to exist as well
# 
# Read more on https://go.2sxc.org/vscode
#
</code></pre>
<p><strong>Template for the <code>/app.csproj</code> file</strong></p>
<pre><code class="lang-xml">&lt;Project Sdk=&quot;Microsoft.NET.Sdk.Web&quot;&gt;
  &lt;!-- This file helps VS Code provide IntelliSense - see https://go.2sxc.org/vscode --&gt;

  &lt;PropertyGroup&gt;
    &lt;!-- Specify the .net Framework you are targeting - this is usually net4.7.2 or net4.8
      https://learn.microsoft.com/en-us/dotnet/standard/frameworks
      - eg &quot;net472&quot;, &quot;net48&quot;, &quot;net8.0&quot; etc.
      - net472 is the default for DNN 9.8 and earlier but usually net48 works
      - net8.0 is the default for Oqtane 5
    --&gt;
    &lt;TargetFramework&gt;net472&lt;/TargetFramework&gt;

    &lt;!-- Specify the default Namespace for code in this specific App --&gt;
    &lt;RootNamespace&gt;ThisApp&lt;/RootNamespace&gt;

    &lt;!-- Specify what C# version to use
      https://learn.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-version-history
      - eg. &quot;7.3&quot;, &quot;8.0&quot; or &quot;12.0&quot; (Oqtane 5+)
    --&gt;
    &lt;LangVersion&gt;8.0&lt;/LangVersion&gt;

    &lt;!-- Variable to path where the DLLs are in Dnn
      - This allows you to easily adjust the path if you have a different location
      - For clarity / consistency, we recommend to not end with a slash
      - Below you will use it using $(PathBin)
    --&gt;
    &lt;!-- PathBin for Dnn --&gt;
    &lt;PathBin&gt;..\..\..\..\bin&lt;/PathBin&gt;
    &lt;!-- PathBin Oqtane production, just up 3 folders, no bin-subfolder --&gt;
    &lt;!-- &lt;PathBin&gt;..\..\..&lt;/PathBin&gt; --&gt;
    &lt;!-- PathBin Oqtane dev/debug, up 3 folders and current build folder --&gt;
    &lt;!-- &lt;PathBin&gt;..\..\..\bin\Debug\net8.0&lt;/PathBin&gt; --&gt;
  &lt;/PropertyGroup&gt;

  &lt;ItemGroup&gt;
    &lt;!-- Tell Visual Studio &amp; VSCode to respect all ToSic.* DLLs in the root bin folder --&gt;
    &lt;Reference Include=&quot;$(PathBin)\ToSic.*.dll&quot; /&gt;

    &lt;!-- also add System.Web and DotNetNuke DLLs - useful when creating APIs, but be aware that it may make your code less hybrid --&gt;
    &lt;Reference Include=&quot;$(PathBin)\DotNetNuke.dll&quot; /&gt;
    &lt;Reference Include=&quot;$(PathBin)\DotNetNuke.*.dll&quot; /&gt;
    &lt;Reference Include=&quot;$(PathBin)\System.Web.Http.dll&quot; /&gt;
  &lt;/ItemGroup&gt;

  &lt;!-- Polymorphism
    If you're working with Polymorphism then you have many of the same files, which confuses Intellisense eg.
    - /live and /staging have the same files
    - /bs3 /bs4 / bs5 have the same files
    The following is meant to exclude some of these folders from intellisense
  --&gt;
  &lt;!-- Example: exclude /live as we're always working on /staging --&gt;
  &lt;ItemGroup&gt;
    &lt;None Remove=&quot;live\**&quot; /&gt;
    &lt;Content Remove=&quot;live\**&quot; /&gt;
    &lt;Compile Remove=&quot;live\**&quot; /&gt;
    &lt;EmbeddedResource Remove=&quot;live\**&quot; /&gt;
  &lt;/ItemGroup&gt;
&lt;/Project&gt;
</code></pre>
<div class="TIP">
<h5>Tip</h5>
<p>Adding these files helps VSCode provide IntelliSense.
But be aware that it can't help with <code>dynamic</code> code.
To get the full benefit, use <a class="xref" href="../../net-code/typed-code/index.html">typed code</a>.</p>
</div>
<h2 id="gitignore-temporary-folders">GitIgnore Temporary Folders</h2>
<p>Add these lines to your <code>.gitignore</code> file to prevent temporary files from being added to your repository:</p>
<pre><code class="lang-text">.vs/
obj/
</code></pre>
<h2 id="check-for-edge-cases---dnn-with-net-472--48">Check for Edge Cases - DNN with .net 4.7.2 / 4.8</h2>
<p>If you're using DNN with .net 4.7.2 or 4.8, you may have to do some extra work.
We're still not 100% sure what this is, since our dev PCs are always setup with all kinds of build tools where it works.
According to research by <a href="https://www.accu4.com/H2R2S/VS-Code-IntelliSense">Accuraty</a>
you may need to follow the instructions as noted on the <a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp">C# extension</a>.</p>
<p>The <strong>C#</strong> extension is auto-installed by the Dev-Kit, but there is this (quoted):</p>
<div class="NOTE">
<h5>Note</h5>
<p>Note: If working on a solution that requires versions prior to .NET 6 or non-solution based projects, install a .NET Framework runtime and MSBuild tooling.</p>
<ul>
<li>Set omnisharp.useModernNet to false and set dotnet.server.useOmnisharp to true</li>
<li>Uninstall or disable C# Dev Kit <strong>we're not sure if this is correct any more!</strong></li>
<li>Windows: .NET Framework along with MSBuild Tools</li>
<li>MacOS/Linux: Mono with MSBuild</li>
</ul>
</div>
<p>According to our current understanding you don't need to do this is you have Visual Studio 2022 installed.
We assume that already includes all the bits which VS Code needs as well.</p>
<p>We haven't been able to verify or simplify this, but if you're having trouble,
do read the blog post by <a href="https://www.accu4.com/H2R2S/VS-Code-IntelliSense">Accuraty</a> as well.</p>
<h2 id="warnings-when-using-intellisense">Warnings when Using IntelliSense</h2>
<div class="WARNING">
<h5>Warning</h5>
<p>IntelliSense can show you <em>internal</em> APIs which will change over time.</p>
</div>
<p>IntelliSense is an amazing productivity boost, but you should avoid using internal APIs.</p>
<p>To make this unlikely, we spent a LOT of time to clearly mark internal stuff.
Avoid the following:</p>
<ol>
<li>Almost everything in the <code>ToSic.Eav.*</code> namespace is usually internal, so avoid using it
<ol>
<li>Exception: <code>ToSic.Eav.DataSource</code> and <code>ToSic.Eav.DataSources</code> are really public</li>
</ol>
</li>
<li>Anything in a <code>*.Internal</code> namespace</li>
<li>Anything in a <code>*.Integration</code> namespace</li>
<li>Anything in a <code>*.Backend</code> namespace</li>
<li>Anything in a <code>*.Sys</code> namespace</li>
<li>Anything marked with <code>[Obsolete]</code></li>
<li>Anything marked with <code>[EditorBrowsable(EditorBrowsableState.Never)]</code> - IntelliSense will not show these APIs</li>
<li>Properties beginning with an underscore, eg <code>_Something</code></li>
</ol>
<h2 id="configure-an-app-for-javascript-intellisense">Configure an App for JavaScript IntelliSense</h2>
<p>TODO: this is not yet documented</p>
<h2 id="other-guides">Other Guides</h2>
<ul>
<li><a href="https://www.accu4.com/H2R2S/VS-Code-IntelliSense">Very helpful guide by Accuraty</a></li>
</ul>
<hr>
<h2 id="history">History</h2>
<ul>
<li>Added v16.07 2023-10</li>
</ul>
<p>Shortlink: <a href="https://go.2sxc.org/vscode">https://go.2sxc.org/vscode</a></p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/2sic/2sxc-docs/blob/master/2sxc Docs Generator/pages/guides/vscode/index.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          
          <span>
            Made by <a href="https://www.2sic.com">2sic</a>
            with 💖 and
            <a href="https://dotnet.github.io/docfx">docfx</a>
            — 
            for <a href="https://2sxc.org">2sxc</a>,
            <a href="https://dnncommunity.org/">Dnn</a> 
            and <a href="https://www.oqtane.org/">Oqtane</a>
            — 
            see also <a href="">2sxc Github</a> and <a href="https://blazor-cms.org">Blazor CMS</a>
          </span>
        </div>
      </div>
    </footer>
  </body>
</html>