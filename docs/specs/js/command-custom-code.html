<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PH2TVNW');</script>
    <!-- End Google Tag Manager -->
    <!-- azing recipe embed resizer -->
    <script src="https://cdn.azing.org/e/1/embed.js"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Html &amp; Js: Buttons with Custom Code in a Toolbar | 2sxc and EAV 10 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Html &amp; Js: Buttons with Custom Code in a Toolbar | 2sxc and EAV 10 ">
    <meta name="generator" content="docfx 2.48.1.0">
    
    <link rel="shortcut icon" href="../../images/logos/v11/favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    <meta property="docfx:newtab" content="true">
  
    <!--
      2dm 2021-03-02 Enable lightboxes on all images using
      https://github.com/roel4ez/docfx-lightbox-plugin
    -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.7.13/featherlight.min.css" type="text/css" rel="stylesheet">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/logos/v11/2sxc50.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li class="active">
                          <a href="../../specs/index.html" title="Specs">Specs</a>
                      </li>
                      <li>
                          <a href="../../how-to/index.html" title="How To">How To</a>
                      </li>
                      <li>
                          <a href="../../net-code/index.html" title="C# &amp; Razor API">C# &amp; Razor API</a>
                      </li>
                      <li>
                          <a href="../../web-api/index.html" title="Web API">Web API</a>
                      </li>
                      <li>
                          <a href="../../api/dot-net/index.html" title=".net API">.net API</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Specs.Js.Commands.Code">
<h1 id="html--js-buttons-with-custom-code-in-a-toolbar">Html &amp; Js: Buttons with Custom Code in a Toolbar</h1>

<p>In some cases you want to add buttons to a toolbar, which run custom JavaScript code. </p>
<h2 id="how-to-use">How to use</h2>
<p>Here&#39;s a basic example showing a 2sxc-toolbar with a custom code:</p>
<pre><code class="lang-html">&lt;ul class=&quot;sc-menu&quot; data-toolbar=&#39;{
    &quot;groups&quot;: [{ 
        &quot;buttons&quot;: [{ 
            &quot;command&quot;: { 
                &quot;action&quot;: &quot;custom&quot;, 
                &quot;customCode&quot;: &quot;alert(\&quot;custom button!\&quot;)&quot;
            }
        }]
    }]
}&#39;&gt;&lt;/ul&gt;
</code></pre><p>This shows 2sxc-toolbar with 1 button, calling the <a class="xref" href="commands.html">command</a> <strong>custom</strong> and giving it the code <strong>customCode</strong> which will be executed. </p>
<p>Here&#39;s a more extensive example:</p>
<pre><code class="lang-html">&lt;div class=&quot;sc-element&quot;&gt;
    custom js action
    &lt;ul class=&quot;sc-menu&quot; data-toolbar=&#39;{&quot;groups&quot;: [
        { &quot;buttons&quot;: [
            { 
                &quot;command&quot;: { 
                    &quot;action&quot;: &quot;custom&quot;, 
                    &quot;customCode&quot;: &quot;alert(\&quot;custom button!\&quot;)&quot;
                },
                &quot;icon&quot;: &quot;icon-sxc-code&quot;, 
                &quot;title&quot;: &quot;my custom code&quot;
            },{
                &quot;command&quot;: {
                    &quot;action&quot;: &quot;custom&quot;, 
                    &quot;customCode&quot;: &quot;someCustomAction(settings, event, sxc);&quot;
                }, 
                &quot;icon&quot;: &quot;icon-sxc-code&quot;, 
                &quot;title&quot;: &quot;my custom code&quot;
            },
            &quot;layout&quot;, 
            &quot;more&quot;
        ]}, {
            &quot;buttons&quot;: &quot;layout,more&quot;
        }
    ], &quot;debug&quot;: true}&#39;&gt;&lt;/ul&gt;
&lt;/div&gt;

&lt;script&gt;
    function someCustomAction(settings, event, sxc) {
        console.log(&quot;found these settings: &quot;, settings); 
        console.log(&quot;for this click event: &quot;, event); 
        console.log(&quot;in the context of this sxc: &quot;, sxc);
        alert(&quot;check js console output&quot;);
    }
&lt;/script&gt;
</code></pre><p>The above example also provides a custom icon, a title and a second button which also knows about the <strong>event</strong> (the click), the <strong>settings</strong> (like the entityId) and the <strong>sxc</strong> (the controller).</p>
<h2 id="how-it-works">How it works</h2>
<p>Internally, the <strong>command</strong> custom is meant to simply execute the code which is in the attribute <code>customCode</code>. That&#39;s all it does. </p>
<h2 id="notes-and-clarifications">Notes and Clarifications</h2>
<h3 id="json-encode-if-using-data-toolbar-attribute">JSON Encode if using data-toolbar attribute</h3>
<p>If you&#39;re adding this in the HTML, then everything must be correctly JSON encoded (which isn&#39;t exactly fun). So if you plan to do that, we recommend to put most of the JS in an external file and just put the call to it in the button itself. </p>
<h3 id="more-specs-on-click">More Specs On Click</h3>
<p>The second example shows 3 additional variables which are available inside the click event. They are</p>
<ul>
<li>settings - these are the parameters passed in, like entityId</li>
<li>event - this is the JS event like click</li>
<li>sxc - this is the current sxc-controller - you can also access sxc.manage if you need it</li>
</ul>
<h2 id="read-also">Read also</h2>
<ul>
<li><a class="xref" href="commands.html">commands</a> </li>
</ul>
<h2 id="demo-app-and-further-links">Demo App and further links</h2>
<p>You should find some code examples in this demo App</p>
<ul>
<li><a class="xref" href="https://2sxc.org/en/apps/app/tutorial-for-the-javascript-apis-and-custom-toolbars">JS Manage / Toolbar API Tutorial App</a></li>
</ul>
<h2 id="history">History</h2>
<ol>
<li>Introduced in 2sxc v08.06</li>
</ol>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/2sic/2sxc-docs/blob/master/2sxc Docs Generator/specs/js/command-custom-code.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.7.13/featherlight.min.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" src="../../styles/plugin-featherlight.js"></script>
  </body>
</html>
