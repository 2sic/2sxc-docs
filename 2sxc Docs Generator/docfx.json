{
  "metadata": [
    {
      "src": [
        {
          "files": [
            // docfx v2.59.4 is required for vs2022 17.3+ msbuild to work with *.csproj
            "2sxc/**.csproj",
            "eav-server/**.csproj"
            // github multirepo 'View source' not working with *.dll
            // "2sxc/Src/Dnn/ToSic.Sxc.Dnn/bin/Release/ToSic.Sxc*.dll",
            // "eav-server/ToSic.Eav/bin/Release/net6.0/*.dll"
          ],
          "cwd": "../..",
          "exclude": [
            "**/obj/**",
            "**/bin/**",
            "_site/**",
            "**/*Testing*/**",
            "**/*.Tests/**",
            "**/XOLD-*/**",
            "**Mvc/Website/**",
            "**/ToSic.Sxc.Mvc/**",
            "Comment about the next oqtane line - we would rather just exclude oqtane.framework but ATM it results in errors because of diff .net versions",
            "**/Oqtane/**",
            "**/ToSic.Sxc.Razor/**",
            "**/Integration/**"
          ]
        }
      ],
      "dest": "obj/api/dot-net/",
      "disableGitFeatures": false, // Disable fetching Git related information for articles. By default it is enabled and may have side effect on performance when the repo is large.
      "filter": "filterConfig.yml",
      "force": true, // Re-build all the documentation
      "properties": {
        "TargetFramework": "net472", // must be net472 because of DNN and 2sxc/eav *.csproj configurations
        "GenerateDocumentationFile": true,
        "ProduceReferenceAssembly": true
      }
    }
  ],
  "build": {
    "content": [
      {
        // These are the files generated by the dotnet build, they are in `obj/api/*.yml`
        "src": "obj",
        "files": [ "api/**.yml" ],
      },
      {
        // These are the files which are pre-parsed from the inpage JS code
        "src": "./import/api.js.sxcjs/docFx/",
        "files": [ "**.yml" ],
        "dest": "api/js",
        "exclude":[ "toc.yml" ]
      },
      {
        // These are the files which are pre-parsed from the dnn-sxc-angular JS code
        "src": "./import/api.js.sxc-angular/docFx/",
        "files": [ "**.yml" ],
        "dest": "api/js/sxc-angular/",
        "exclude":[ "toc.yml" ]
      },
      {
        // All the pages
        "src": "pages",
        "files": [
          "**.md",
          "**.yml"
        ],
        "exclude": [
          "**/_include*.md",
          "**/_shared*.md",
          // Skip *_merge.md as they will mix with pre-generated code
          "**/*_merge.md",
          "**/*_inc.md"
        ]
      },
      {
        // All the redirects
        "src": "pages-moved",
        "files": [
          "**.md"
        ],
        "exclude": [
          "**/readme.md"
        ]
      },
      {
        // Main TOC and root index (without cwd, as that would imply a subfolder)
        "files": [
          "toc.yml",
          "index.md",
          "docs-versions.md"
        ]
      },
      {
        // test
        "files": [
          "api/index.md",
          "docs-versions.md",
          "api/**.md",
          "api/js/**.yml",
        ],
        "exclude": [
          "dummy-doc - this makes sure the api-helper pages don't get generated as HTML (would cause conflicts)",
          "api/dot-net/ToSic.*/**",
          "api/dot-net/Custom/**",
          // "api/js/SxcJs/**.md",
          // "obj/**",
          // "_site/**",
          // "**/_include*.md",
          // "**/_shared*.md"
        ]
      }
    ],
    "resource": [
      {
        "files": [
          "**.jpg",
          "**.png",
          "**.jpeg",
          "**.svg",
          "**.gif"
        ],
        "cwd": "pages"
      },
      {
        "files": [
          "**.jpg",
          "**.png",
          "**.jpeg",
          "**.svg",
          "**.gif",

          "/assets/**"
        ],
        "exclude": [
          "obj/**",
          "_site/**",
          "pages/**",
          "node_modules/**"
        ]
      }
    ],
    "xref": [
      "xrefmap.yml"
    ],
    "overwrite": [
      {
        "files": [
          // "apidoc/**.md",
          // "namespaces/**.md",
          "dummy-doc - the next line imports these just for code merge - we must mention each sub-path, because otherwise the dot-net/index causes problems",
          "api/dot-net/ToSic.*/**.md",
          "api/dot-net/Custom/**.md",
          // "api/js/SxcJs/**.md",
          "pages/**/*_merge.md",  // these will be merged with pre generated API files
          "shared/**.md"
        ],
        "exclude": [
          "obj/**",
          "_site/**"
        ]
      }
    ],
    "dest": "../docs",
    "template": [
      "default",
      "statictoc",
      "material/material",
      "templates/2sxc"
    ],
    "cleanupCacheHistory": true, // If set to true, docfx create a new intermediate folder for cache files, historical cache data will be cleaned up.
    "disableGitFeatures": false, // Disable fetching Git related information for articles. By default it is enabled and may have side effect on performance when the repo is large.
    "globalMetadata": {
      "_appTitle": "2sxc 16 / EAV 16",
      "_appLogoPath": "assets/logos/vcurrent/50.png",
      "_appFaviconPath": "assets/favicon.ico",
      "_enableNewTab": true,
      "_enableSearch": true,
      "_gitUrlPattern": "github",
      "_disableContribution": false // Disabling the "View Source" and "Improve this Doc" buttons.
    }
  }
}
