---
uid: NetCode.Copilot.DataModelGenerator
---

# Copilot Generate Types for HotBuild (BETA v17)

These are the conventions we're striving for in the new HotBuild system.

## Goal

1. To provide a simple, type-safe object for everything in an app, eg `BlogPost.Tags` which would return an `IEnumerable<Tag>`.
1. Standards based an simple
1. very transparent
1. Extensible / customizable, without having to create a very complex code generator.


## How it (should) work

Let's assume we have the content-type `BlogPost`

The plan is to generate a auto-generated file `/AppCode/Data/BlogPostAutoGenerated.cs` which would look like this:

```csharp
// DO NOT MODIFY THIS FILE - IT IS AUTO-GENERATED
// See also: https://go.2sxc.org/hotbuild-autogen
// To extend it, create a "BlogPost.cs" with this contents:
/*
namespace AppCode.Data
{
  public partial class BlogPost
  {
    // Add your own properties and methods here
  }
}
*/

// Generator: DataModelGenerator v17.01.08
// User:      2sichost
// Edition:   /staging
// When:      2024-01-31 17:59:00
namespace AppCode.Data
{
  // This is a generated class for BlogPost
  // If you wish to modify it, create a partial class for "BlogPost" in a separate "BlogPost.cs" file.

  /// <summary>
  /// BlogPost Data.
  /// Default properties such as `.Title` or `.Id` are provided in the base class.
  /// Most properties have a simple access, such as `.TermsAndGdprCombined`.
  /// For other properties or uses, the common method such as 
  /// `IsNotEmpty("FieldName")`, `String("FieldName")`, `Children(...)`, `Picture(...)`, `.Html(...)` and more can be used.
  /// </summary>
  public partial class BlogPost { }

  /// <summary>
  /// Auto-Generated base class for BlogPost.
  /// </summary>
  public abstract class BlogPostAutoGenerated : Custom.Data.Item16
  {
    public bool TermsAndGdprCombined => Bool("TermsAndGdprCombined");
    public bool TermsEnabled => Bool("TermsEnabled");
    public bool GdprEnabled => Bool("GdprEnabled");

    public string Description => String("Description", fallback: "");

    public string Link => Url("Link");

    
    public ToSic.Sxc.Adam.IFile LinkFile => File("File");

    public ToSic.Sxc.Adam.IFolder LinkFolder => Folder("Folder");
  }
}
```

Thoughts about this structure:

1. **AutoGenerated Class**
    1. We need to have a complicated-named class like `BlogPostAutoGenerated` to avoid name clashes with properties in the content type.
      Otherwise a class called `BlogPost` couldn't have a property `BlogPost`, but this way it works.
    1. The auto generated needs a weird name - we recommend `...AutoGenerated` to make it very clear and almost impossible to clash with property names.
    1. The AutoGenerated should also be `abstract` so that it can't be instantiated directly.
    1. For now it must inherit from `Custom.Data.Item16` - a class which is provided by 2sxc
    1. The `...16` makes it clear that it's based on `...Typed` in v16 and that future versions may have different base classes.
1. **Real Class**
    1. We then need the **real** class with the name matching the ContentType (where possible, see below)
    1. In same cases this is not possible - eg we have a `App-Resources` type which is a legacy problem, which should be called `AppResources`
    1. We need to have a `partial` class so that the user can extend it with their own properties and methods, without touching the auto-generated file.
1. Comments
    1. We need special comments on top of the file, the **real** class and the **autogenerated** to guide the user
    1. The exact text will be worked out later on

## Specs for the Docs

1. File Intro
    1. This file is auto-generated by "`2sichost`" for "`/staging`" at `2024-01-31 17:59:00`  
        Replace with the actual user, path and date
    1. If you need to extend it, create a partial class for "`BlogPost`" in a separate file.  
        Replace with the actual content type name
    1. See also: <https://go.2sxc.org/hotbuild-autogen>
1. Class Intro
    1. This is a generated class for `BlogPost`  
        Replace with the actual content type name
    1. If you wish to modify it, create a partial class for "`BlogPost`" in a separate "`BlogPost.cs`" file.  
        Replace with the actual content type name
1. Class Description
    1. `BlogPost` Data.  
        Replace with the actual content type name
    1. Default properties such as `.Title` or `.Id` are provided in the base class.  
        _leave as is_
    1. Most properties have a simple access, such as `.TermsAndGdprCombined`.  
        Replace with the first found property - if any, otherwise skip this line
    1. For other properties or uses, the common method such as `String("FieldName")`, `Children(...)`, `Picture(...)`, `.Html(...)` and more can be used available.  
        _leave as is_

## Specs for Auto Generated Code

* Most properties should simply map to the `String` or `Bool` etc. methods
* Strings technically have `null` fallback, so I recommend we change this to `""` instead

Types, Conversion and Open issues

1. `Boolean` is clear, the normal fallback is `false`, so that's typical
1. `Boolean` nullable is tricky, but I suggest the default is only bool, anything else is untypical and would have to be handled in the inheriting class
1. `String` is clear - for now we should default to `""` instead of `null`
1. `DateTime` is clear, but we need to think about the default value. probably `DateTime.MinValue` for now
1. `Empty` should be ignored and not added at all
1. `Hyperlink` fields should probably default to the `Url(...)` method.
    1. But we need to think about this.
    1. Alternative would be to generate both a string and a hyperlink property, eg `Link` and `LinkUrl`
    1. ...or `Link` and `LinkString`
    1. Also possible is to create a `LinkFile` and `LinkFolder` property providing the `File(...)` and `Folder(...)` methods
1. Note: If we do generate any additional names (eg. `LinkUrl`) we must make sure that we don't clash with another field
1. `Entity` properties are unclear how to handle because
    1. We may need a single access - eg. using `Child(...)` or a list access eg using `Children(...)`
    1. Ideally we would return typed children, eg. `AsList<Tag>(Children("Tags"))`
    1. ...but it's not quite clear where to determine the type of the children
1. `Number` could be int, float, double, decimal - so it's unclear which to use...
    1. probably `int` for now
    1. we could also look in the field specs and determine that it has 0 or more decimal places, and then use `decimal` instead
1. `Custom`
    1. if `custom-gps` then ideally it would create a `Gps` class with `Latitude` and `Longitude` properties
    1. others should probably be ignored for now


Todo

1. Create <https://go.2sxc.org/hotbuild-autogen>
